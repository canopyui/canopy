{"version":3,"sources":["app/application.coffee","app/controllers/base/controller.coffee","app/controllers/header.coffee","app/controllers/main.coffee","app/initialize.coffee","app/lib/canopy/d3/circlepack.coffee","app/lib/canopy/d3/radialtree.coffee","app/lib/canopy/github.coffee","app/lib/canopy/tree.coffee","app/lib/support.coffee","app/lib/utils.coffee","app/lib/view-helper.coffee","app/mediator.coffee","app/models/base/collection.coffee","app/models/base/model.coffee","app/routes.coffee","app/views/base/collection-view.coffee","app/views/base/view.coffee","app/views/header.coffee","app/views/layout.coffee","app/views/main.coffee","app/views/templates/header.hbs","app/views/templates/main.hbs"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArDA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjEA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjDA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlFA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9BA;AAAA;ACAA;AAAA;AACA;AADA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AAHA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5HA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA","file":"public/javascripts/app.js","sourcesContent":["var Application, Chaplin, HeaderController, Layout, mediator, routes,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nChaplin = require('chaplin');\n\nHeaderController = require('controllers/header');\n\nLayout = require('views/layout');\n\nmediator = require('mediator');\n\nroutes = require('routes');\n\nmodule.exports = Application = (function(superClass) {\n  extend(Application, superClass);\n\n  function Application() {\n    return Application.__super__.constructor.apply(this, arguments);\n  }\n\n  Application.prototype.title = 'Canopy Vizualizer';\n\n  Application.prototype.initialize = function() {\n    Application.__super__.initialize.apply(this, arguments);\n    this.initDispatcher({\n      controllerSuffix: ''\n    });\n    this.initLayout();\n    this.initMediator();\n    this.initComposer();\n    this.initControllers();\n    this.initRouter(routes);\n    return typeof Object.freeze === \"function\" ? Object.freeze(this) : void 0;\n  };\n\n  Application.prototype.initLayout = function() {\n    return this.layout = new Layout({\n      title: this.title\n    });\n  };\n\n  Application.prototype.initControllers = function() {\n    return new HeaderController();\n  };\n\n  Application.prototype.initMediator = function() {\n    return mediator.seal();\n  };\n\n  return Application;\n\n})(Chaplin.Application);\n","var Chaplin, Controller,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nChaplin = require('chaplin');\n\nmodule.exports = Controller = (function(superClass) {\n  extend(Controller, superClass);\n\n  function Controller() {\n    return Controller.__super__.constructor.apply(this, arguments);\n  }\n\n  return Controller;\n\n})(Chaplin.Controller);\n","var Controller, HeaderController, HeaderView,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nController = require('controllers/base/controller');\n\nHeaderView = require('views/header');\n\nmodule.exports = HeaderController = (function(superClass) {\n  extend(HeaderController, superClass);\n\n  function HeaderController() {\n    return HeaderController.__super__.constructor.apply(this, arguments);\n  }\n\n  HeaderController.prototype.initialize = function() {\n    HeaderController.__super__.initialize.apply(this, arguments);\n    return this.view = new HeaderView();\n  };\n\n  return HeaderController;\n\n})(Controller);\n","var Controller, MainController, MainView,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nController = require('controllers/base/controller');\n\nMainView = require('views/main');\n\nmodule.exports = MainController = (function(superClass) {\n  extend(MainController, superClass);\n\n  function MainController() {\n    return MainController.__super__.constructor.apply(this, arguments);\n  }\n\n  MainController.prototype.index = function() {\n    return this.view = new MainView();\n  };\n\n  return MainController;\n\n})(Controller);\n","var Application;\n\nApplication = require('application');\n\n$(function() {\n  var app;\n  app = new Application();\n  return app.initialize();\n});\n","'use strict';\nvar CirclePack;\n\nmodule.exports = CirclePack = (function() {\n  function CirclePack() {}\n\n  CirclePack.prototype.render = function(elem, data, options) {\n    var format, node, pack;\n    if (options == null) {\n      options = {};\n    }\n    options = $.extend({\n      width: 600,\n      height: 600\n    }, options);\n    this.width = options.width;\n    this.height = options.height;\n    format = d3.format(\",d\");\n    pack = d3.layout.pack().size([this.width - 4, this.height - 4]).value(function(d) {\n      return d.size;\n    });\n    this.viz = d3.select(elem).append(\"svg\").attr(\"width\", this.width).attr(\"height\", this.height).attr(\"class\", \"pack\").append(\"g\").attr(\"transform\", \"translate(2, 2)\");\n    node = this.viz.data([data]).selectAll(elem + \" g.node\").data(pack.nodes).enter().append(\"g\").attr(\"class\", function(d) {\n      if (d.children) {\n        return \"node\";\n      } else {\n        return \"leaf node\";\n      }\n    }).attr(\"transform\", function(d) {\n      return \"translate(\" + d.x + \",\" + d.y + \")\";\n    });\n    node.append(\"title\").text(function(d) {\n      return d.name + (d.children ? \"\" : \": \" + format(d.size));\n    });\n    this.circles = node.append(\"circle\").attr(\"r\", function(d) {\n      return d.r;\n    }).on(\"click\", options.click);\n    node.filter(function(d) {\n      return d.children;\n    }).append(\"text\").attr(\"text-anchor\", \"middle\").attr(\"dy\", \".3em\").text(function(d) {\n      if (d.name.length <= d.r / 3) {\n        return d.name;\n      } else {\n        return \"\";\n      }\n    });\n    return this.circles.attr('r', 0).transition().duration(1000).attr(\"r\", function(d) {\n      return d.r;\n    });\n  };\n\n  CirclePack.prototype.zoom = function(d) {\n    var x, y;\n    x = d3.scale.linear().range([0, this.width]);\n    y = d3.scale.linear().range([0, this.height]);\n    return this.circles.transition().duration(750).attr(\"cx\", function(d, i) {\n      return d.x - i;\n    }).attr(\"cy\", function(d, i) {\n      return d.y - i;\n    });\n  };\n\n  return CirclePack;\n\n})();\n","'use strict';\nvar RadialTree;\n\nmodule.exports = RadialTree = (function() {\n  function RadialTree() {}\n\n  RadialTree.prototype.render = function(elem, data, options) {\n    var diagonal, diameter, height, link, links, node, nodes, svg, tree, width;\n    if (options == null) {\n      options = {};\n    }\n    width = options.width;\n    height = options.height;\n    diameter = options.diameter || Math.min(options.width, options.height);\n    tree = d3.layout.tree().size([360, diameter / 2 - 120]).separation(function(a, b) {\n      return (a.parent === b.parent ? 1 : 2) / a.depth;\n    });\n    diagonal = d3.svg.diagonal.radial().projection(function(d) {\n      return [d.y, d.x / 180 * Math.PI];\n    });\n    svg = d3.select(elem).append(\"svg\").attr(\"width\", width).attr(\"height\", height).append(\"g\").attr(\"transform\", \"translate(\" + width / 2 + \",\" + height / 2 + \")\");\n    nodes = tree.nodes(data);\n    links = tree.links(nodes);\n    link = svg.selectAll(elem + \" .link\").data(links).enter().append(\"path\").attr(\"class\", \"link\").attr(\"d\", diagonal);\n    node = svg.selectAll(elem + \" .node\").data(nodes).enter().append(\"g\").attr(\"class\", \"node\").attr(\"transform\", function(d) {\n      return \"rotate(\" + (d.x - 90) + \")translate(\" + d.y + \")\";\n    });\n    node.append(\"circle\").attr(\"r\", 4.5);\n    node.append(\"text\").attr(\"dy\", \".31em\").attr(\"text-anchor\", function(d) {\n      if (d.x < 180) {\n        return \"start\";\n      } else {\n        return \"end\";\n      }\n    }).attr(\"transform\", function(d) {\n      if (d.x < 180) {\n        return \"translate(8)\";\n      } else {\n        return \"rotate(180)translate(-8)\";\n      }\n    }).text(function(d) {\n      return d.name;\n    });\n    return d3.select(self.frameElement).style(\"height\", diameter - 150 + \"px\");\n  };\n\n  return RadialTree;\n\n})();\n","'use strict';\nmodule.exports = {\n  getRepoFromURL: function(url) {\n    var m;\n    if (m = url.match(/github\\.com\\/([^\\/]+\\/[^\\/]+)/)) {\n      return m[1];\n    }\n  },\n  loadRepo: function(repo, options) {\n    var opts, url;\n    if (options == null) {\n      options = {};\n    }\n    opts = $.extend({\n      sha: 'HEAD',\n      recursive: 1\n    }, options, {\n      repo: repo\n    });\n    opts.recursive = opts.recursive ? 1 : 0;\n    url = \"https://api.github.com/repos/\" + opts.repo + \"/git/trees/\" + opts.sha + \"?recursive=\" + opts.recursive + \"&callback=?\";\n    return $.ajax($.extend({\n      url: url,\n      dataType: 'jsonp'\n    }, opts));\n  },\n  parse: function(data) {\n    var i, len, node, paths, ref;\n    paths = {\n      root: {\n        name: '',\n        path: '',\n        children: []\n      }\n    };\n    ref = data.tree;\n    for (i = 0, len = ref.length; i < len; i++) {\n      node = ref[i];\n      if (node.type === 'blob') {\n        this.parseBlob(paths, node);\n      } else {\n        this.parseTree(paths, node);\n      }\n    }\n    return this.collapse(paths);\n  },\n  parseBlob: function(paths, node) {\n    var name, path, segments;\n    segments = (\"root/\" + node.path).match(/(.*)\\/(.*)/);\n    node.name = segments[2];\n    path = segments[1];\n    name = path.substr(5);\n    paths[path] || (paths[path] = {\n      name: name,\n      path: node.path,\n      children: []\n    });\n    return paths[path].children.push(node);\n  },\n  parseTree: function(paths, node) {\n    var name, path;\n    path = \"root/\" + node.path;\n    name = path.match(/(.*)\\/(.*)/)[2];\n    paths[path] || (paths[path] = {\n      name: name,\n      children: []\n    });\n    return $.extend(paths[path], node);\n  },\n  collapse: function(paths) {\n    var node, parent, path;\n    for (path in paths) {\n      node = paths[path];\n      parent = path.match(/(.*)\\//);\n      if (!(parent && (parent = parent[1]))) {\n        continue;\n      }\n      paths[parent].children.push(node);\n    }\n    return paths;\n  }\n};\n","'use strict';\nmodule.exports = {\n  trim: function(tree, level, extend) {\n    var branch, i, len, ref;\n    if (level == null) {\n      level = 1;\n    }\n    if (extend == null) {\n      extend = true;\n    }\n    if (extend) {\n      tree = $.extend({}, tree);\n    }\n    if (!tree.children) {\n      return tree;\n    }\n    ref = tree.children;\n    for (i = 0, len = ref.length; i < len; i++) {\n      branch = ref[i];\n      if (!branch.children) {\n        continue;\n      }\n      if (level === 1) {\n        branch.size = this.sumSize(branch.children);\n        delete branch.children;\n      } else {\n        this.trimTree(branch, level - 1);\n      }\n    }\n    return tree;\n  },\n  sum: function(tree) {\n    return 0;\n  }\n};\n","var Chaplin, support, utils;\n\nChaplin = require('chaplin');\n\nutils = require('lib/utils');\n\nsupport = utils.beget(Chaplin.support);\n\nmodule.exports = support;\n","var Chaplin, utils;\n\nChaplin = require('chaplin');\n\nutils = Chaplin.utils.beget(Chaplin.utils);\n\nmodule.exports = utils;\n","var mediator,\n  slice = [].slice;\n\nmediator = require('mediator');\n\nHandlebars.registerHelper('with', function(context, options) {\n  if (!context || Handlebars.Utils.isEmpty(context)) {\n    return options.inverse(this);\n  } else {\n    return options.fn(context);\n  }\n});\n\nHandlebars.registerHelper('without', function(context, options) {\n  var inverse;\n  inverse = options.inverse;\n  options.inverse = options.fn;\n  options.fn = inverse;\n  return Handlebars.helpers[\"with\"].call(this, context, options);\n});\n\nHandlebars.registerHelper('url', function() {\n  var i, options, params, routeName, url;\n  routeName = arguments[0], params = 3 <= arguments.length ? slice.call(arguments, 1, i = arguments.length - 1) : (i = 1, []), options = arguments[i++];\n  url = null;\n  mediator.publish('!router:reverse', routeName, params, function(result) {\n    return url = result ? \"/\" + result : routeName;\n  });\n  return url;\n});\n","module.exports = require('chaplin').mediator;\n","var Chaplin, Collection, Model,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nChaplin = require('chaplin');\n\nModel = require('models/base/model');\n\nmodule.exports = Collection = (function(superClass) {\n  extend(Collection, superClass);\n\n  function Collection() {\n    return Collection.__super__.constructor.apply(this, arguments);\n  }\n\n  Collection.prototype.model = Model;\n\n  return Collection;\n\n})(Chaplin.Collection);\n","var Chaplin, Model,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nChaplin = require('chaplin');\n\nmodule.exports = Model = (function(superClass) {\n  extend(Model, superClass);\n\n  function Model() {\n    return Model.__super__.constructor.apply(this, arguments);\n  }\n\n  return Model;\n\n})(Chaplin.Model);\n","module.exports = function(match) {\n  return match('', 'main#index');\n};\n","var Chaplin, CollectionView, View,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nChaplin = require('chaplin');\n\nView = require('views/base/view');\n\nmodule.exports = CollectionView = (function(superClass) {\n  extend(CollectionView, superClass);\n\n  function CollectionView() {\n    return CollectionView.__super__.constructor.apply(this, arguments);\n  }\n\n  CollectionView.prototype.getTemplateFunction = View.prototype.getTemplateFunction;\n\n  return CollectionView;\n\n})(Chaplin.CollectionView);\n","var Chaplin, View,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nChaplin = require('chaplin');\n\nrequire('lib/view-helper');\n\nmodule.exports = View = (function(superClass) {\n  extend(View, superClass);\n\n  function View() {\n    return View.__super__.constructor.apply(this, arguments);\n  }\n\n  View.prototype.getTemplateFunction = function() {\n    return this.template;\n  };\n\n  return View;\n\n})(Chaplin.View);\n","var HeaderView, View, template,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nView = require('views/base/view');\n\ntemplate = require('views/templates/header');\n\nmodule.exports = HeaderView = (function(superClass) {\n  extend(HeaderView, superClass);\n\n  function HeaderView() {\n    return HeaderView.__super__.constructor.apply(this, arguments);\n  }\n\n  HeaderView.prototype.autoRender = true;\n\n  HeaderView.prototype.className = 'header navbar navbar-fixed-top';\n\n  HeaderView.prototype.container = '#header-container';\n\n  HeaderView.prototype.id = 'header';\n\n  HeaderView.prototype.template = template;\n\n  return HeaderView;\n\n})(View);\n","var Chaplin, Layout,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nChaplin = require('chaplin');\n\nmodule.exports = Layout = (function(superClass) {\n  extend(Layout, superClass);\n\n  function Layout() {\n    return Layout.__super__.constructor.apply(this, arguments);\n  }\n\n  return Layout;\n\n})(Chaplin.Layout);\n","var MainView, View, github, renderers, template,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\ntemplate = require('views/templates/main');\n\nView = require('views/base/view');\n\ngithub = require('lib/canopy/github');\n\nrenderers = {\n  circlepack: require('lib/canopy/d3/circlepack'),\n  radialtree: require('lib/canopy/d3/radialtree')\n};\n\nmodule.exports = MainView = (function(superClass) {\n  extend(MainView, superClass);\n\n  function MainView() {\n    this.zoom = bind(this.zoom, this);\n    this.loadGitRepo = bind(this.loadGitRepo, this);\n    return MainView.__super__.constructor.apply(this, arguments);\n  }\n\n  MainView.prototype.autoRender = false;\n\n  MainView.prototype.className = 'main container';\n\n  MainView.prototype.container = '#page-container';\n\n  MainView.prototype.template = template;\n\n  MainView.prototype.initialize = function() {\n    MainView.__super__.initialize.apply(this, arguments);\n    this.delegate('click', '[data-path=\"root\"]', this.reset);\n    this.delegate('click', '[data-viztype]', this[\"switch\"]);\n    this.delegate('change', 'input.repo-url', this.loadGitRepo);\n    this.render();\n    return this.loadGitRepo();\n  };\n\n  MainView.prototype.loadGitRepo = function() {\n    var repo, url;\n    url = this.$('input.repo-url').val();\n    repo = github.getRepoFromURL(url);\n    return github.loadRepo(repo, {\n      success: (function(_this) {\n        return function(results) {\n          _this.data = github.parse(results.data);\n          return _this.renderViz(_this.data.root);\n        };\n      })(this)\n    });\n  };\n\n  MainView.prototype.getRendererName = function() {\n    return this.$('[data-viztype].active').data('viztype');\n  };\n\n  MainView.prototype.renderViz = function(data, type) {\n    var $viz, rendererName;\n    if (type) {\n      this.$('[data-viztype]').removeClass('active');\n      this.$(\"[data-viztype=\" + type + \"]\").addClass('active');\n    }\n    rendererName = this.getRendererName();\n    $viz = this.$('#viz-graph').empty().removeClass().addClass(rendererName);\n    this.renderer = new renderers[rendererName];\n    this.renderer.render('#viz-graph', data, {\n      width: $viz.width(),\n      height: $viz.height(),\n      click: this.zoom\n    });\n    if (data.children) {\n      return this.renderList(data);\n    }\n  };\n\n  MainView.prototype.renderList = function(data) {\n    var $list, items, node;\n    $list = this.$('viz-list').empty();\n    data = data.children.sort(function(a, b) {\n      a = a.name.toLowerCase();\n      b = b.name.toLowerCase();\n      if (a === b) {\n        return 0;\n      }\n      if (a > b) {\n        return 1;\n      }\n      if (a < b) {\n        return -1;\n      }\n    });\n    items = (function() {\n      var i, len, results1;\n      results1 = [];\n      for (i = 0, len = data.length; i < len; i++) {\n        node = data[i];\n        results1.push(\"<div>\" + node.path + \"</div>\");\n      }\n      return results1;\n    })();\n    return $list.append(items);\n  };\n\n  MainView.prototype.reset = function(evt) {\n    evt.preventDefault();\n    return this.renderViz(this.data.root);\n  };\n\n  MainView.prototype[\"switch\"] = function(evt) {\n    evt.preventDefault();\n    return this.renderViz(this.data.root, $(evt.currentTarget).data('viztype'));\n  };\n\n  MainView.prototype.zoom = function(node) {\n    return this.renderViz(node);\n  };\n\n  return MainView;\n\n})(View);\n","module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div class=\\\"navbar-inner\\\">\\n  <div class=\\\"container\\\">\\n    <a class=\\\"brand\\\" href=\\\"/\\\">Canopy</a>\\n    <ul class=\\\"nav\\\">\\n      <li><a class=\\\"header-link\\\" href=\\\"/test/\\\">Tests</a></li>\\n      <li><a class=\\\"header-link\\\" href=\\\"https://github.com/canopyui/canopy/wiki\\\">Docs</a></li>\\n      <li><a class=\\\"header-link\\\" href=\\\"https://github.com/canopyui/canopy\\\">Code</a></li>\\n      <li><a class=\\\"header-link\\\" href=\\\"https://github.com/canopyui/canopy/issues\\\">Issues</a></li>\\n    </ul>\\n  </div>\\n</div>\";\n  });","module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<form>\\n  <input class=\\\"repo-url\\\" type=\\\"text\\\" placeholder=\\\"Enter a github repo url&hellip;\\\" value=\\\"https://github.com/erikhuda/thor\\\">\\n</form>\\n\\n<ul class=\\\"nav nav-pills viz-toggle\\\">\\n  <li class=\\\"active\\\" data-viztype=\\\"circlepack\\\"><a href=\\\"#\\\">Circle Packing</a></a>\\n  <li data-viztype=\\\"radialtree\\\" ><a href=\\\"#\\\">Radial Tree</a></li>\\n</ul>\\n\\n<ul id=\\\"viz-path\\\" class=\\\"breadcrumb\\\">\\n  <li><a data-path=\\\"root\\\" href=\\\"#\\\">root</a> <span class=\\\"divider\\\">/</span></li>\\n</ul>\\n\\n<div id=\\\"viz-graph\\\"></div>\\n<div id=\\\"viz-list\\\"></div>\\n\";\n  });"]}